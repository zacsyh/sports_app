# 4.2 详细功能需求

## 4.2.1 健身项目创建功能
**功能描述**: 允许用户创建自定义健身项目，支持两种模式

**前置条件**: 用户已打开应用并通过浏览器访问项目创建界面

**主要流程**:
1. 用户点击"添加项目"按钮
2. 系统显示项目创建界面
3. 用户选择项目模式(模式1: Sets×Reps 或 模式2: Total count/weight)
4. 用户填写项目信息
5. 系统验证表单数据
6. 用户点击保存按钮
7. 系统保存项目数据到IndexedDB并返回主界面

**输入**:
- 项目名称(必填)
- 项目描述(可选)
- 项目模式选择(必选)
- 模式1参数: 组数、每组次数
- 模式2参数: 目标次数、目标重量(可选)

**输出**:
- 项目创建成功提示
- 新项目显示在主界面列表中

**异常流程**:
- 表单验证失败时显示错误提示
- IndexedDB存储失败时显示错误信息

**业务规则**:
- 项目名称不能为空且不超过50个字符
- 模式1的组数和每组次数必须为正整数
- 模式2的目标次数必须为正整数
- 目标重量必须为正数，最多保留两位小数

## 4.2.2 实时跟踪功能
**功能描述**: 允许用户实时跟踪健身项目的完成进度

**前置条件**: 用户已创建至少一个健身项目并通过浏览器访问应用

**主要流程**:
1. 用户在主界面点击某个项目卡片
2. 系统进入项目详情界面
3. 用户点击"开始"按钮
4. 系统显示实时跟踪界面
5. 用户通过按钮或键盘操作更新计数
6. 系统实时更新进度显示
7. 用户可暂停、继续或完成跟踪
8. 用户完成跟踪后，系统保存数据到IndexedDB并返回详情界面

**输入**:
- 用户操作(增加计数、暂停、继续、完成)

**输出**:
- 实时进度更新
- 项目完成状态更新
- 数据保存成功提示

**异常流程**:
- 浏览器意外关闭时数据自动保存到IndexedDB
- 离线状态下本地数据不受影响

**业务规则**:
- 计数只能增加，不能减少
- 暂停时计时器停止，继续时计时器恢复
- 完成时自动计算并保存统计数据到IndexedDB

## 4.2.3 提醒功能
**功能描述**: 提供多维度提醒功能，帮助用户坚持健身计划

**前置条件**: 用户已设置提醒偏好并通过浏览器授予通知权限

**主要流程**:
1. 应用启动时加载提醒设置
2. 系统通过Service Worker定时检查提醒触发条件
3. 提醒时间到达时创建并显示浏览器通知
4. 用户点击通知后打开相应界面
5. 用户可在提醒设置界面管理所有提醒

**输入**:
- 每日提醒时间设置
- 个体项目提醒设置

**输出**:
- 浏览器通知
- 提醒设置保存成功提示

**异常流程**:
- 浏览器未运行时通过Service Worker触发提醒
- 用户未授予通知权限时提示用户授权
- 提醒时间冲突时优先级处理

**业务规则**:
- 每日提醒时间格式为HH:mm
- 个体项目提醒可设置提前时间(分钟)
- 提醒可单独开启或关闭
- 提醒功能需要用户授权浏览器通知权限