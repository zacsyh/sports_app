## 5. 存储结构设计

### 5.1 localStorage存储
- 存储内容：用户设置模型中的所有字段
- 存储格式：JSON格式的键值对
- 存储位置：浏览器本地存储

### 5.2 IndexedDB存储
使用IndexedDB存储所有复杂的数据结构，包括健身项目数据、用户成就数据、成长记录数据和提醒数据。

#### 数据库信息
- 数据库名：fitness_tracker
- 存储位置：浏览器本地存储
- 数据库版本：1 (初始版本)

#### 对象存储结构
1. **用户设置对象存储 (user_preferences)**：存储用户配置信息
2. **健身项目对象存储 (fitness_projects)**：存储所有健身项目的基本信息和目标设置
3. **项目进度记录对象存储 (progress_records)**：存储每个项目的进度历史记录
4. **提醒设置对象存储 (reminders)**：存储所有提醒设置，包括每日提醒和个体项目提醒
5. **成就对象存储 (achievements)**：存储用户已解锁的成就信息
6. **统计数据对象存储 (statistics)**：存储用户的总体统计数据
7. **周统计数据对象存储 (weekly_stats)**：存储用户的周统计数据
8. **月统计数据对象存储 (monthly_stats)**：存储用户的月统计数据

### 5.3 存储策略
1. localStorage用于存储简单的键值对配置信息，提供快速访问
2. IndexedDB用于存储复杂的数据结构和关联数据，提供高效的查询和更新能力
3. 所有数据存储在浏览器本地，确保数据安全性和隐私性
4. 使用Dexie.js提供更好的类型安全性和简化的API
5. 实现数据库迁移策略，确保应用版本升级时数据的完整性和一致性
6. 重要数据变更时进行备份，防止数据丢失
7. 使用Service Worker缓存关键资源，支持离线访问